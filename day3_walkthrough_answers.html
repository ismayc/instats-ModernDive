<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Chester Ismay">

<title>Statistics in R with the tidyverse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="day3_walkthrough_answers_files/libs/clipboard/clipboard.min.js"></script>
<script src="day3_walkthrough_answers_files/libs/quarto-html/quarto.js"></script>
<script src="day3_walkthrough_answers_files/libs/quarto-html/popper.min.js"></script>
<script src="day3_walkthrough_answers_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="day3_walkthrough_answers_files/libs/quarto-html/anchor.min.js"></script>
<link href="day3_walkthrough_answers_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="day3_walkthrough_answers_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="day3_walkthrough_answers_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="day3_walkthrough_answers_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="day3_walkthrough_answers_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#day-3-sampling-and-estimation-in-r" id="toc-day-3-sampling-and-estimation-in-r" class="nav-link active" data-scroll-target="#day-3-sampling-and-estimation-in-r">Day 3: Sampling and Estimation in R</a>
  <ul class="collapse">
  <li><a href="#session-7-sampling" id="toc-session-7-sampling" class="nav-link" data-scroll-target="#session-7-sampling">Session 7: Sampling</a>
  <ul class="collapse">
  <li><a href="#load-necessary-packages" id="toc-load-necessary-packages" class="nav-link" data-scroll-target="#load-necessary-packages">1. Load Necessary Packages</a></li>
  <li><a href="#prepare-population-dataset-with-generation" id="toc-prepare-population-dataset-with-generation" class="nav-link" data-scroll-target="#prepare-population-dataset-with-generation">2. Prepare Population Dataset with Generation</a></li>
  <li><a href="#exploring-dataset-structure" id="toc-exploring-dataset-structure" class="nav-link" data-scroll-target="#exploring-dataset-structure">3. Exploring Dataset Structure</a></li>
  <li><a href="#population-parameters" id="toc-population-parameters" class="nav-link" data-scroll-target="#population-parameters">4. Population Parameters</a></li>
  <li><a href="#take-a-sample-of-balls" id="toc-take-a-sample-of-balls" class="nav-link" data-scroll-target="#take-a-sample-of-balls">5. Take a Sample of Balls</a></li>
  <li><a href="#take-another-sample-of-balls" id="toc-take-another-sample-of-balls" class="nav-link" data-scroll-target="#take-another-sample-of-balls">6. Take Another Sample of Balls</a></li>
  <li><a href="#take-1000-samples-of-size-50-from-the-population" id="toc-take-1000-samples-of-size-50-from-the-population" class="nav-link" data-scroll-target="#take-1000-samples-of-size-50-from-the-population">7. Take 1000 Samples of Size 50 from the Population</a></li>
  <li><a href="#calculate-sample-proportions-and-visualize-them" id="toc-calculate-sample-proportions-and-visualize-them" class="nav-link" data-scroll-target="#calculate-sample-proportions-and-visualize-them">8. Calculate Sample Proportions and Visualize Them</a></li>
  <li><a href="#determine-a-guess-at-the-standard-error" id="toc-determine-a-guess-at-the-standard-error" class="nav-link" data-scroll-target="#determine-a-guess-at-the-standard-error">9. Determine a Guess at the Standard Error</a></li>
  <li><a href="#repeat-for-different-sample-sizes" id="toc-repeat-for-different-sample-sizes" class="nav-link" data-scroll-target="#repeat-for-different-sample-sizes">10. Repeat for Different Sample Sizes</a></li>
  <li><a href="#session-7-review-questions" id="toc-session-7-review-questions" class="nav-link" data-scroll-target="#session-7-review-questions">Session 7 Review Questions</a></li>
  <li><a href="#session-7-review-question-answers" id="toc-session-7-review-question-answers" class="nav-link" data-scroll-target="#session-7-review-question-answers">Session 7 Review Question Answers</a></li>
  </ul></li>
  <li><a href="#session-8-estimation-using-theory-based-methods" id="toc-session-8-estimation-using-theory-based-methods" class="nav-link" data-scroll-target="#session-8-estimation-using-theory-based-methods">Session 8: Estimation using Theory-Based Methods</a>
  <ul class="collapse">
  <li><a href="#population-data-with-numeric-variable-of-interest" id="toc-population-data-with-numeric-variable-of-interest" class="nav-link" data-scroll-target="#population-data-with-numeric-variable-of-interest">11. Population Data with Numeric Variable of Interest</a></li>
  <li><a href="#the-sample-and-the-sample-statistic" id="toc-the-sample-and-the-sample-statistic" class="nav-link" data-scroll-target="#the-sample-and-the-sample-statistic">12. The Sample and the Sample Statistic</a></li>
  <li><a href="#population-parameter" id="toc-population-parameter" class="nav-link" data-scroll-target="#population-parameter">13. Population Parameter</a></li>
  <li><a href="#confidence-interval-for-the-population-proportion-assuming-we-know-sigma" id="toc-confidence-interval-for-the-population-proportion-assuming-we-know-sigma" class="nav-link" data-scroll-target="#confidence-interval-for-the-population-proportion-assuming-we-know-sigma">14. Confidence Interval for the Population Proportion (Assuming We Know <span class="math inline">\(\sigma\)</span>)</a></li>
  <li><a href="#confidence-interval-for-the-population-proportion-assuming-we-dont-know-sigma" id="toc-confidence-interval-for-the-population-proportion-assuming-we-dont-know-sigma" class="nav-link" data-scroll-target="#confidence-interval-for-the-population-proportion-assuming-we-dont-know-sigma">15. Confidence Interval for the Population Proportion (Assuming We Don’t Know <span class="math inline">\(\sigma\)</span>)</a></li>
  <li><a href="#interpreting-the-confidence-interval" id="toc-interpreting-the-confidence-interval" class="nav-link" data-scroll-target="#interpreting-the-confidence-interval">16. Interpreting the Confidence Interval</a></li>
  <li><a href="#session-8-review-questions" id="toc-session-8-review-questions" class="nav-link" data-scroll-target="#session-8-review-questions">Session 8 Review Questions</a></li>
  <li><a href="#session-8-review-question-answers" id="toc-session-8-review-question-answers" class="nav-link" data-scroll-target="#session-8-review-question-answers">Session 8 Review Question Answers</a></li>
  </ul></li>
  <li><a href="#session-9-estimation-using-bootstrapping-methods" id="toc-session-9-estimation-using-bootstrapping-methods" class="nav-link" data-scroll-target="#session-9-estimation-using-bootstrapping-methods">Session 9: Estimation Using Bootstrapping Methods</a>
  <ul class="collapse">
  <li><a href="#assume-we-only-have-a-sample" id="toc-assume-we-only-have-a-sample" class="nav-link" data-scroll-target="#assume-we-only-have-a-sample">17. Assume We Only Have A Sample</a></li>
  <li><a href="#going-over-the-infer-framework" id="toc-going-over-the-infer-framework" class="nav-link" data-scroll-target="#going-over-the-infer-framework">18. Going Over the <code>infer</code> Framework</a></li>
  <li><a href="#bootstrapping-the-sample" id="toc-bootstrapping-the-sample" class="nav-link" data-scroll-target="#bootstrapping-the-sample">19. Bootstrapping the Sample</a></li>
  <li><a href="#determine-the-mean-of-the-bootstrap-sample" id="toc-determine-the-mean-of-the-bootstrap-sample" class="nav-link" data-scroll-target="#determine-the-mean-of-the-bootstrap-sample">20. Determine the Mean of the Bootstrap Sample</a></li>
  <li><a href="#bootstrapping-1000-samples" id="toc-bootstrapping-1000-samples" class="nav-link" data-scroll-target="#bootstrapping-1000-samples">21. Bootstrapping 1000 Samples</a></li>
  <li><a href="#get-the-mean-of-each-bootstrap-sample" id="toc-get-the-mean-of-each-bootstrap-sample" class="nav-link" data-scroll-target="#get-the-mean-of-each-bootstrap-sample">22. Get the Mean of Each Bootstrap Sample</a></li>
  <li><a href="#visualizing-the-bootstrap-distribution" id="toc-visualizing-the-bootstrap-distribution" class="nav-link" data-scroll-target="#visualizing-the-bootstrap-distribution">23. Visualizing the Bootstrap Distribution</a></li>
  <li><a href="#calculate-the-bootstrap-confidence-interval" id="toc-calculate-the-bootstrap-confidence-interval" class="nav-link" data-scroll-target="#calculate-the-bootstrap-confidence-interval">24. Calculate the Bootstrap Confidence Interval</a></li>
  <li><a href="#interpretation-of-the-bootstrap-confidence-interval" id="toc-interpretation-of-the-bootstrap-confidence-interval" class="nav-link" data-scroll-target="#interpretation-of-the-bootstrap-confidence-interval">25. Interpretation of the Bootstrap Confidence Interval</a></li>
  <li><a href="#visualize-confidence-interval-on-top-of-bootstrap-distribution" id="toc-visualize-confidence-interval-on-top-of-bootstrap-distribution" class="nav-link" data-scroll-target="#visualize-confidence-interval-on-top-of-bootstrap-distribution">26. Visualize Confidence Interval on Top of Bootstrap Distribution</a></li>
  <li><a href="#session-9-review-questions" id="toc-session-9-review-questions" class="nav-link" data-scroll-target="#session-9-review-questions">Session 9 Review Questions</a></li>
  <li><a href="#session-9-review-question-answers" id="toc-session-9-review-question-answers" class="nav-link" data-scroll-target="#session-9-review-question-answers">Session 9 Review Question Answers</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Statistics in R with the <code>tidyverse</code></h1>
<p class="subtitle lead">Day 3 Walkthrough</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dr.&nbsp;Chester Ismay </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="day-3-sampling-and-estimation-in-r" class="level1">
<h1>Day 3: Sampling and Estimation in R</h1>
<section id="session-7-sampling" class="level2">
<h2 class="anchored" data-anchor-id="session-7-sampling">Session 7: Sampling</h2>
<section id="load-necessary-packages" class="level3">
<h3 class="anchored" data-anchor-id="load-necessary-packages">1. Load Necessary Packages</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the required packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(moderndive)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>These packages provide tools for data wrangling, visualization, modeling, and inference.</li>
</ul>
<hr>
</section>
<section id="prepare-population-dataset-with-generation" class="level3">
<h3 class="anchored" data-anchor-id="prepare-population-dataset-with-generation">2. Prepare Population Dataset with Generation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For reproducibility</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2024</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create vectors of sport ball types and their proportions</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>types_of_sport_balls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Basketball"</span>, <span class="st">"Pickleball"</span>, <span class="st">"Tennis Ball"</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Football/Soccer"</span>, <span class="st">"American Football"</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>proportion_of_each_type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.15</span>, <span class="fl">0.3</span>, <span class="fl">0.25</span>, <span class="fl">0.1</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a tibble of 1200 sport balls that will act as our population</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>store_ball_inventory <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">ball_ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1200</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">ball_type =</span> <span class="fu">sample</span>(<span class="at">x =</span> types_of_sport_balls,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">size =</span> <span class="dv">1200</span>, </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">replace =</span> <span class="cn">TRUE</span>, </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>                     <span class="at">prob =</span> proportion_of_each_type</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>We’ll be exploring a synthesized data set of an inventory at a large sporting goods store. The inventory pertains to different types of sports balls, 1200 in total.</li>
</ul>
<hr>
</section>
<section id="exploring-dataset-structure" class="level3">
<h3 class="anchored" data-anchor-id="exploring-dataset-structure">3. Exploring Dataset Structure</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use glimpse to explore the structure of the dataset</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(store_ball_inventory)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,200
Columns: 2
$ ball_ID   &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 2…
$ ball_type &lt;chr&gt; "Pickleball", "Football/Soccer", "Basketball", "Basketball", "Football/Soccer", "Basketball", "Footb…</code></pre>
</div>
</div>
<hr>
</section>
<section id="population-parameters" class="level3">
<h3 class="anchored" data-anchor-id="population-parameters">4. Population Parameters</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a count of ball_type</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>store_ball_inventory <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(ball_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  ball_type             n
  &lt;chr&gt;             &lt;int&gt;
1 American Football   117
2 Basketball          252
3 Football/Soccer     299
4 Pickleball          187
5 Tennis Ball         345</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the proportion of pickleballs in the inventory</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>p_df <span class="ot">&lt;-</span> store_ball_inventory <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">prop_pickle =</span> <span class="fu">mean</span>(ball_type <span class="sc">==</span> <span class="st">"Pickleball"</span>))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert p to a numeric value</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p_df<span class="sc">$</span>prop_pickle</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Or using the tidyverse</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p_df <span class="sc">|&gt;</span> <span class="fu">pull</span>(prop_pickle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="take-a-sample-of-balls" class="level3">
<h3 class="anchored" data-anchor-id="take-a-sample-of-balls">5. Take a Sample of Balls</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve a sample of 50 balls from the inventory</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>ball_sample <span class="ot">&lt;-</span> store_ball_inventory <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the proportion of pickleballs in the sample</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>ball_sample <span class="sc">|&gt;</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">prop_pickle =</span> <span class="fu">mean</span>(ball_type <span class="sc">==</span> <span class="st">"Pickleball"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  prop_pickle
        &lt;dbl&gt;
1        0.14</code></pre>
</div>
</div>
<hr>
</section>
<section id="take-another-sample-of-balls" class="level3">
<h3 class="anchored" data-anchor-id="take-another-sample-of-balls">6. Take Another Sample of Balls</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve another sample of 50 balls from the inventory</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>ball_sample2 <span class="ot">&lt;-</span> store_ball_inventory <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the proportion of pickleballs in the sample</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>ball_sample2 <span class="sc">|&gt;</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">prop_pickle =</span> <span class="fu">mean</span>(ball_type <span class="sc">==</span> <span class="st">"Pickleball"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  prop_pickle
        &lt;dbl&gt;
1         0.1</code></pre>
</div>
</div>
<hr>
</section>
<section id="take-1000-samples-of-size-50-from-the-population" class="level3">
<h3 class="anchored" data-anchor-id="take-1000-samples-of-size-50-from-the-population">7. Take 1000 Samples of Size 50 from the Population</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use `rep_slice_sample()` from the `infer` package</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>ball_samples <span class="ot">&lt;-</span> store_ball_inventory <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep_slice_sample</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">reps =</span> <span class="dv">1000</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="calculate-sample-proportions-and-visualize-them" class="level3">
<h3 class="anchored" data-anchor-id="calculate-sample-proportions-and-visualize-them">8. Calculate Sample Proportions and Visualize Them</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine sample proportions with `dplyr`</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>props_pickle <span class="ot">&lt;-</span> ball_samples <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">prop_pickle =</span> <span class="fu">mean</span>(ball_type <span class="sc">==</span> <span class="st">"Pickleball"</span>))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of the sample proportions</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(props_pickle, <span class="fu">aes</span>(<span class="at">x =</span> prop_pickle)) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">15</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sample proportion"</span>, </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Histogram of 1000 sample proportions of Pickleballs"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="day3_walkthrough_answers_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="determine-a-guess-at-the-standard-error" class="level3">
<h3 class="anchored" data-anchor-id="determine-a-guess-at-the-standard-error">9. Determine a Guess at the Standard Error</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the simulations, calculate the standard deviation of the </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># sample proportions</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>se_sample_props <span class="ot">&lt;-</span> props_pickle <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">sd</span>(prop_pickle)) <span class="sc">|&gt;</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the formula for the standard error of a sample proportion</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>se_sample_props_formula <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(p <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> p) <span class="sc">/</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="repeat-for-different-sample-sizes" class="level3">
<h3 class="anchored" data-anchor-id="repeat-for-different-sample-sizes">10. Repeat for Different Sample Sizes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a function to calculate the standard error of sample proportions</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># using simulation</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>se_sample_props <span class="ot">&lt;-</span> <span class="cf">function</span>(size, <span class="at">repetitions =</span> <span class="dv">1000</span>, <span class="at">type =</span> <span class="st">"Pickleball"</span>) {</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  props <span class="ot">&lt;-</span> store_ball_inventory <span class="sc">|&gt;</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep_slice_sample</span>(<span class="at">n =</span> size, <span class="at">reps =</span> repetitions, <span class="at">replace =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">prop =</span> <span class="fu">mean</span>(ball_type <span class="sc">==</span> type))</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  se_sample_props <span class="ot">&lt;-</span> props <span class="sc">|&gt;</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="fu">sd</span>(prop)) <span class="sc">|&gt;</span> </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>()</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(se_sample_props)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard errors for different sample sizes</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>se_sample_props_20 <span class="ot">&lt;-</span> <span class="fu">se_sample_props</span>(<span class="dv">20</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>se_sample_props_50 <span class="ot">&lt;-</span> <span class="fu">se_sample_props</span>(<span class="dv">50</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>se_sample_props_100 <span class="ot">&lt;-</span> <span class="fu">se_sample_props</span>(<span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="session-7-review-questions" class="level3">
<h3 class="anchored" data-anchor-id="session-7-review-questions">Session 7 Review Questions</h3>
<p><strong><code>(1.1)</code></strong> What is the purpose of using the <code>sample()</code> function in the code provided?</p>
<p>A. To randomly select a subset of the population without replacement.<br>
B. To calculate the mean value of a numeric variable.<br>
C. To remove missing values from the dataset.<br>
D. To calculate the population parameters.</p>
<hr>
<p><strong><code>(1.2)</code></strong> In the context of the sporting goods store example, what does the sample proportion of pickleballs represent?</p>
<p>A. The actual number of pickleballs in the entire inventory.<br>
B. The proportion of pickleballs in a random sample taken from the inventory.<br>
C. The total number of all types of sport balls in the inventory.<br>
D. The probability of not selecting a pickleball from the population.</p>
<hr>
<p><strong><code>(1.3)</code></strong> What does the function <code>rep_slice_sample()</code> do in the sampling process?</p>
<p>A. It generates multiple samples from a population, each with the same size.<br>
B. It creates a histogram of sample proportions.<br>
C. It removes duplicate samples from the dataset.<br>
D. It replicates the population to simulate different proportions.</p>
<hr>
<p><strong><code>(1.4)</code></strong> Why is the standard error calculated when taking samples from a population?</p>
<p>A. To ensure that the sample is randomly selected. B. To estimate the total number of items in the population.<br>
C. To adjust the sample size for better accuracy.<br>
D. To measure how much sample proportions vary from the population proportion.</p>
<hr>
<p><strong><code>(1.5)</code></strong> How does increasing the sample size affect the standard error of the sample proportions?</p>
<p>A. It increases the standard error because more data points create more variation.<br>
B. It decreases the standard error, leading to more precise estimates of the population proportion.<br>
C. It has no effect on the standard error.<br>
D. It changes the population proportion directly.</p>
<hr>
</section>
<section id="session-7-review-question-answers" class="level3">
<h3 class="anchored" data-anchor-id="session-7-review-question-answers">Session 7 Review Question Answers</h3>
<p><strong><code>(7.1)</code></strong> What is the purpose of using the <code>sample()</code> function in the code provided?</p>
<p><strong>Correct Answer:</strong><br>
A. To randomly select a subset of the population without replacement.</p>
<p><strong>Explanation:</strong><br>
The <code>sample()</code> function is used to randomly select a subset of observations from the population, which helps create samples for analysis.</p>
<hr>
<p><strong><code>(7.2)</code></strong> In the context of the sporting goods store example, what does the sample proportion of pickleballs represent?</p>
<p><strong>Correct Answer:</strong><br>
B. The proportion of pickleballs in a random sample taken from the inventory.</p>
<p><strong>Explanation:</strong><br>
The sample proportion reflects how many pickleballs appear in a random sample of the inventory, not the entire population.</p>
<hr>
<p><strong><code>(7.3)</code></strong> What does the function <code>rep_slice_sample()</code> do in the sampling process?</p>
<p><strong>Correct Answer:</strong><br>
A. It generates multiple samples from a population, each with the same size.</p>
<p><strong>Explanation:</strong><br>
The <code>rep_slice_sample()</code> function takes repeated samples of the same size from a population, allowing for the simulation of sampling variability.</p>
<hr>
<p><strong><code>(7.4)</code></strong> Why is the standard error calculated when taking samples from a population?</p>
<p><strong>Correct Answer:</strong><br>
D. To measure how much sample proportions vary from the population proportion.</p>
<p><strong>Explanation:</strong><br>
The standard error measures the variability in the sample proportions and indicates how close the sample proportions are to the true population proportion.</p>
<hr>
<p><strong><code>(7.5)</code></strong> How does increasing the sample size affect the standard error of the sample proportions?</p>
<p><strong>Correct Answer:</strong><br>
B. It decreases the standard error, leading to more precise estimates of the population proportion.</p>
<p><strong>Explanation:</strong><br>
Larger sample sizes reduce the variability in sample proportions, which decreases the standard error and improves the precision of the estimate of the population proportion.</p>
<hr>
</section>
</section>
<section id="session-8-estimation-using-theory-based-methods" class="level2">
<h2 class="anchored" data-anchor-id="session-8-estimation-using-theory-based-methods">Session 8: Estimation using Theory-Based Methods</h2>
<section id="population-data-with-numeric-variable-of-interest" class="level3">
<h3 class="anchored" data-anchor-id="population-data-with-numeric-variable-of-interest">11. Population Data with Numeric Variable of Interest</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a tibble of 9500 adults and their corresponding commute times </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># in minutes</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># This acts as a population of adults and their commute times</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>commute_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">person_ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">9500</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">commute_time =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">9500</span>, <span class="at">mean =</span> <span class="dv">30</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-sample-and-the-sample-statistic" class="level3">
<h3 class="anchored" data-anchor-id="the-sample-and-the-sample-statistic">12. The Sample and the Sample Statistic</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Choose sample size</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a sample</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2024</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>commute_sample <span class="ot">&lt;-</span> commute_data <span class="sc">|&gt;</span> </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> sample_size, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the sample mean</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>sample_mean <span class="ot">&lt;-</span> commute_sample <span class="sc">|&gt;</span> </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(commute_time)) <span class="sc">|&gt;</span> </span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>sample_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29.16929</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the standard deviation </span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>sample_sd <span class="ot">&lt;-</span> commute_sample <span class="sc">|&gt;</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">sd</span>(commute_time)) <span class="sc">|&gt;</span> </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>sample_sd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.06214</code></pre>
</div>
</div>
</section>
<section id="population-parameter" class="level3">
<h3 class="anchored" data-anchor-id="population-parameter">13. Population Parameter</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the population mean</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>population_mean <span class="ot">&lt;-</span> commute_data <span class="sc">|&gt;</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(commute_time)) <span class="sc">|&gt;</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> population_mean</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>mu</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29.98266</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the population standard deviation</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>population_sd <span class="ot">&lt;-</span> commute_data <span class="sc">|&gt;</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">sd</span>(commute_time)) <span class="sc">|&gt;</span> </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>sigma <span class="ot">&lt;-</span> population_sd</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>sigma</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.02985</code></pre>
</div>
</div>
</section>
<section id="confidence-interval-for-the-population-proportion-assuming-we-know-sigma" class="level3">
<h3 class="anchored" data-anchor-id="confidence-interval-for-the-population-proportion-assuming-we-know-sigma">14. Confidence Interval for the Population Proportion (Assuming We Know <span class="math inline">\(\sigma\)</span>)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the margin of error</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>z_star <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="at">p =</span> <span class="fl">0.975</span>) <span class="co"># Assumes a normal distribution</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>margin_of_error <span class="ot">&lt;-</span> z_star <span class="sc">*</span> (sigma <span class="sc">/</span> <span class="fu">sqrt</span>(sample_size))</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Recall the point estimate</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>point_estimate <span class="ot">&lt;-</span> sample_mean</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the confidence interval</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>lower_bound <span class="ot">&lt;-</span> point_estimate <span class="sc">-</span> margin_of_error</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>upper_bound <span class="ot">&lt;-</span> point_estimate <span class="sc">+</span> margin_of_error</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the confidence interval</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(lower_bound, upper_bound)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 27.20347 31.13510</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember the population parameter (we usually don't know it)</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">between</span>(mu, lower_bound, upper_bound) <span class="co"># dplyr::between()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="confidence-interval-for-the-population-proportion-assuming-we-dont-know-sigma" class="level3">
<h3 class="anchored" data-anchor-id="confidence-interval-for-the-population-proportion-assuming-we-dont-know-sigma">15. Confidence Interval for the Population Proportion (Assuming We Don’t Know <span class="math inline">\(\sigma\)</span>)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the margin of error</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>t_star <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="at">p =</span> <span class="fl">0.975</span>, <span class="at">df =</span> sample_size <span class="sc">-</span> <span class="dv">1</span>) <span class="co"># t-distribution</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>margin_of_error_t <span class="ot">&lt;-</span> t_star <span class="sc">*</span> (sample_sd <span class="sc">/</span> <span class="fu">sqrt</span>(sample_size))</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Same point estimate</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>point_estimate_t <span class="ot">&lt;-</span> sample_mean</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the confidence interval</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>lower_bound_t <span class="ot">&lt;-</span> point_estimate_t <span class="sc">-</span> margin_of_error_t</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>upper_bound_t <span class="ot">&lt;-</span> point_estimate_t <span class="sc">+</span> margin_of_error_t</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the confidence interval</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(lower_bound_t, upper_bound_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 27.17274 31.16584</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember the population parameter (we usually don't know it)</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">between</span>(mu, lower_bound_t, upper_bound_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="interpreting-the-confidence-interval" class="level3">
<h3 class="anchored" data-anchor-id="interpreting-the-confidence-interval">16. Interpreting the Confidence Interval</h3>
<p>We are “95% confident” that the true mean commute time for this population of adults is between 27.1727413 and 31.1658354 minutes. This is the same as saying that if we were to take many samples of size 100 and calculate the confidence interval for each sample, we would expect 95% of those intervals to contain the true population mean of 29.9826594.</p>
<hr>
</section>
<section id="session-8-review-questions" class="level3">
<h3 class="anchored" data-anchor-id="session-8-review-questions">Session 8 Review Questions</h3>
<p><strong><code>(8.1)</code></strong> What does the sample mean represent in general?</p>
<p>A. The mean for the entire population.<br>
B. The mean for the smaller collection from the larger group of interest.<br>
C. The mean for those outside the sample.<br>
D. The population parameter.</p>
<hr>
<p><strong><code>(8.2)</code></strong> Which of the following describes the purpose of calculating a margin of error?</p>
<p>A. To estimate the standard deviation of the sample.<br>
B. To account for the variability in sample means and create a confidence interval.<br>
C. To find the population mean directly.<br>
D. To calculate the proportion of people with a commute time under the sample mean.</p>
<hr>
<p><strong><code>(8.3)</code></strong> How is the margin of error calculated when the population standard deviation is known?</p>
<p>A. Using a t-distribution and the sample standard deviation.<br>
B. Using a z-distribution and the sample standard deviation.<br>
C. Using a z-distribution and the population standard deviation.<br>
D. Using a t-distribution and the population standard deviation.</p>
<hr>
<p><strong><code>(8.4)</code></strong> When using the <span class="math inline">\(t\)</span>-distribution for confidence intervals, why is it used instead of the <span class="math inline">\(z\)</span>-distribution?</p>
<p>A. The t-distribution adjusts for larger sample sizes.<br>
B. The t-distribution is used when the sample standard deviation is smaller than the population standard deviation. C. The t-distribution accounts for the population mean being known.<br>
D. The t-distribution is used when the population standard deviation is unknown.</p>
<hr>
<p><strong><code>(8.5)</code></strong> What does it mean to be “95% confident” in the confidence interval calculated?</p>
<p>A. That 95% of similarly constructed confidence intervals from repeated samples would contain the true population mean. B. That the population mean is exactly equal to the sample mean.<br>
C. That 95% of the data points in the sample fall within the interval.<br>
D. That 95% of the sample means from different samples will be the same as the sample mean in this confidence interval.</p>
<hr>
</section>
<section id="session-8-review-question-answers" class="level3">
<h3 class="anchored" data-anchor-id="session-8-review-question-answers">Session 8 Review Question Answers</h3>
<p><strong><code>(8.1)</code></strong> What does the sample mean represent in this context of commute times?</p>
<p><strong>Correct Answer:</strong><br>
B. The mean for the smaller collection from the larger group of interest.</p>
<p><strong>Explanation:</strong><br>
The sample mean is the average for those in the sample.</p>
<hr>
<p><strong><code>(8.2)</code></strong> Which of the following describes the purpose of calculating a margin of error?</p>
<p><strong>Correct Answer:</strong><br>
B. To account for the variability in sample means and create a confidence interval.</p>
<p><strong>Explanation:</strong><br>
The margin of error helps account for the natural variation in different samples and is used to create a range (confidence interval) around the sample mean where the true population mean likely falls.</p>
<hr>
<p><strong><code>(8.3)</code></strong> How is the margin of error calculated when the population standard deviation is known?</p>
<p><strong>Correct Answer:</strong><br>
C. Using a z-distribution and the population standard deviation.</p>
<p><strong>Explanation:</strong><br>
When the population standard deviation is known, the margin of error is calculated using the z-distribution, reflecting normal distribution assumptions.</p>
<hr>
<p><strong><code>(8.4)</code></strong> When using the t-distribution for confidence intervals, why is it used instead of the z-distribution?</p>
<p><strong>Correct Answer:</strong><br>
D. The t-distribution is used when the population standard deviation is unknown.</p>
<p><strong>Explanation:</strong><br>
The t-distribution is used when we do not know the population standard deviation, and it adjusts for the added uncertainty in estimating this value using the sample standard deviation.</p>
<hr>
<p><strong><code>(8.5)</code></strong> What does it mean to be “95% confident” in the confidence interval calculated?</p>
<p><strong>Correct Answer:</strong><br>
A. That 95% of similarly constructed confidence intervals from repeated samples would contain the true population mean.</p>
<p><strong>Explanation:</strong><br>
Being 95% confident means that if we repeatedly took samples and calculated confidence intervals, 95% of those intervals would capture the true population mean.</p>
<hr>
</section>
</section>
<section id="session-9-estimation-using-bootstrapping-methods" class="level2">
<h2 class="anchored" data-anchor-id="session-9-estimation-using-bootstrapping-methods">Session 9: Estimation Using Bootstrapping Methods</h2>
<section id="assume-we-only-have-a-sample" class="level3">
<h3 class="anchored" data-anchor-id="assume-we-only-have-a-sample">17. Assume We Only Have A Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assume we only have a sample of 100 adults and their commute times</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>commute_sample</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 2
   person_ID commute_time
       &lt;int&gt;        &lt;dbl&gt;
 1      5698         63.2
 2      4645         20.0
 3      3488         18.6
 4      8297         31.1
 5      7802         41.8
 6      1035         24.4
 7      6045         32.7
 8      7230         19.3
 9      7420         12.0
10      8590         27.5
# ℹ 90 more rows</code></pre>
</div>
</div>
<hr>
</section>
<section id="going-over-the-infer-framework" class="level3">
<h3 class="anchored" data-anchor-id="going-over-the-infer-framework">18. Going Over the <code>infer</code> Framework</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://moderndive.com/v2/images/flowcharts/infer/visualize.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">infer_framework</figcaption>
</figure>
</div>
<hr>
</section>
<section id="bootstrapping-the-sample" class="level3">
<h3 class="anchored" data-anchor-id="bootstrapping-the-sample">19. Bootstrapping the Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bootstrapping the sample</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2024</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>one_bootstrap <span class="ot">&lt;-</span> commute_sample <span class="sc">|&gt;</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> commute_time) <span class="sc">|&gt;</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"bootstrap"</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>one_bootstrap</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Response: commute_time (numeric)
# A tibble: 100 × 2
# Groups:   replicate [1]
   replicate commute_time
       &lt;int&gt;        &lt;dbl&gt;
 1         1         34.1
 2         1         40.7
 3         1         31.5
 4         1         27.3
 5         1         42.2
 6         1         42.3
 7         1         25.6
 8         1         51.4
 9         1         19.7
10         1         43.9
# ℹ 90 more rows</code></pre>
</div>
</div>
<hr>
</section>
<section id="determine-the-mean-of-the-bootstrap-sample" class="level3">
<h3 class="anchored" data-anchor-id="determine-the-mean-of-the-bootstrap-sample">20. Determine the Mean of the Bootstrap Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean of the bootstrap sample</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>one_bootstrap <span class="sc">|&gt;</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"mean"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29.51807</code></pre>
</div>
</div>
<hr>
</section>
<section id="bootstrapping-1000-samples" class="level3">
<h3 class="anchored" data-anchor-id="bootstrapping-1000-samples">21. Bootstrapping 1000 Samples</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bootstrapping 1000 samples</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>many_bootstraps <span class="ot">&lt;-</span> commute_sample <span class="sc">|&gt;</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> commute_time) <span class="sc">|&gt;</span> </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">1000</span>, <span class="at">type =</span> <span class="st">"bootstrap"</span>)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>many_bootstraps</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Response: commute_time (numeric)
# A tibble: 100,000 × 2
# Groups:   replicate [1,000]
   replicate commute_time
       &lt;int&gt;        &lt;dbl&gt;
 1         1         27.7
 2         1         27.9
 3         1         20.3
 4         1         22.9
 5         1         31.2
 6         1         25.8
 7         1         33.9
 8         1         19.3
 9         1         27.8
10         1         25.8
# ℹ 99,990 more rows</code></pre>
</div>
</div>
</section>
<section id="get-the-mean-of-each-bootstrap-sample" class="level3">
<h3 class="anchored" data-anchor-id="get-the-mean-of-each-bootstrap-sample">22. Get the Mean of Each Bootstrap Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean of each bootstrap sample</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>bootstrap_means <span class="ot">&lt;-</span> many_bootstraps <span class="sc">|&gt;</span> </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"mean"</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>bootstrap_means</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Response: commute_time (numeric)
# A tibble: 1,000 × 2
   replicate  stat
       &lt;int&gt; &lt;dbl&gt;
 1         1  30.1
 2         2  28.9
 3         3  30.0
 4         4  30.2
 5         5  28.4
 6         6  28.8
 7         7  29.8
 8         8  30.2
 9         9  28.9
10        10  29.6
# ℹ 990 more rows</code></pre>
</div>
</div>
<hr>
</section>
<section id="visualizing-the-bootstrap-distribution" class="level3">
<h3 class="anchored" data-anchor-id="visualizing-the-bootstrap-distribution">23. Visualizing the Bootstrap Distribution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram of the bootstrap means</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bootstrap_means, <span class="fu">aes</span>(<span class="at">x =</span> stat)) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Bootstrap sample mean"</span>, </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Histogram of 1000 bootstrap sample means"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="day3_walkthrough_answers_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="calculate-the-bootstrap-confidence-interval" class="level3">
<h3 class="anchored" data-anchor-id="calculate-the-bootstrap-confidence-interval">24. Calculate the Bootstrap Confidence Interval</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the bootstrap confidence interval in two ways since bell-shaped</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>bootstrap_percentile_ci <span class="ot">&lt;-</span> bootstrap_means <span class="sc">|&gt;</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_confidence_interval</span>(<span class="at">level =</span> <span class="fl">0.95</span>, <span class="at">type =</span> <span class="st">"percentile"</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>bootstrap_se_ci <span class="ot">&lt;-</span> bootstrap_means <span class="sc">|&gt;</span> </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_confidence_interval</span>(<span class="at">level =</span> <span class="fl">0.95</span>, </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">type =</span> <span class="st">"se"</span>,</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">point_estimate =</span> sample_mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="interpretation-of-the-bootstrap-confidence-interval" class="level3">
<h3 class="anchored" data-anchor-id="interpretation-of-the-bootstrap-confidence-interval">25. Interpretation of the Bootstrap Confidence Interval</h3>
<p>We are “95% confident” that the true mean commute time for this population of adults is between 27.3707695 and 31.1042937 minutes. This is the same as saying that if we were to take many samples of size 100 and calculate the confidence interval for each sample, we would expect 95% of those intervals to contain the true population mean of 29.9826594.</p>
<hr>
</section>
<section id="visualize-confidence-interval-on-top-of-bootstrap-distribution" class="level3">
<h3 class="anchored" data-anchor-id="visualize-confidence-interval-on-top-of-bootstrap-distribution">26. Visualize Confidence Interval on Top of Bootstrap Distribution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the histogram of bootstrap means with the confidence interval</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co"># and the population parameter (not usually known)</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>bootstrap_means <span class="sc">|&gt;</span> </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visualize</span>() <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">shade_confidence_interval</span>(<span class="at">endpoints =</span> bootstrap_percentile_ci) <span class="sc">+</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> mu, <span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">linewidth =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="day3_walkthrough_answers_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="session-9-review-questions" class="level3">
<h3 class="anchored" data-anchor-id="session-9-review-questions">Session 9 Review Questions</h3>
<p><strong><code>(9.1)</code></strong> What is the purpose of bootstrapping?</p>
<p>A. To calculate the exact population mean from a sample.<br>
B. To generate multiple samples from the population without replacement.<br>
C. To estimate the sampling distribution of the sample mean by resampling the original sample.<br>
D. To directly calculate the confidence interval without using the sample data.</p>
<hr>
<p><strong><code>(9.2)</code></strong> In the bootstrapping process, what does the <code>generate(reps = 1000, type = "bootstrap")</code> function do?</p>
<p>A. It creates 1000 random samples from the original population.<br>
B. It creates 1000 random samples with replacement from the original sample.<br>
C. It creates 1000 exact copies of the population.<br>
D. It creates 1000 different statistics from the original population.</p>
<hr>
<p><strong><code>(9.3)</code></strong> What does the histogram of bootstrap sample means represent?</p>
<p>A. The distribution of sample means from the 1000 bootstrap samples.<br>
B. The distribution of values in the original population.<br>
C. The distribution of the population means calculated from the original sample.<br>
D. The actual population mean with 95% certainty.</p>
<hr>
<p><strong><code>(9.4)</code></strong> How is the bootstrap percentile confidence interval calculated?</p>
<p>A. By calculating the standard deviation of the bootstrap samples.<br>
B. By using the <span class="math inline">\(t\)</span>-distribution to calculate the margin of error.<br>
C. By taking the 2.5th and 97.5th percentiles of the bootstrap sample means.<br>
D. By calculating the <span class="math inline">\(z\)</span>-distribution based on the sample size.</p>
<hr>
<p><strong><code>(9.5)</code></strong> What does it mean to be “95% confident” in the bootstrap confidence interval?</p>
<p>A. That 95% of the bootstrap samples contain the population mean.<br>
B. That the true population mean lies within the interval for 95% of all bootstrap samples.<br>
C. That 95% of the population values fall within the confidence interval. D. That if we repeated the bootstrapping process many times, 95% of the confidence intervals would contain the true population mean.</p>
<hr>
</section>
<section id="session-9-review-question-answers" class="level3">
<h3 class="anchored" data-anchor-id="session-9-review-question-answers">Session 9 Review Question Answers</h3>
<p><strong><code>(9.1)</code></strong> What is the purpose of bootstrapping in the context of this commute time example?</p>
<p><strong>Correct Answer:</strong><br>
C. To estimate the sampling distribution of the sample mean by resampling the original sample.</p>
<p><strong>Explanation:</strong><br>
Bootstrapping allows us to approximate the sampling distribution by repeatedly resampling the original sample with replacement and calculating the statistic of interest (in this case, the mean).</p>
<hr>
<p><strong><code>(9.2)</code></strong> In the bootstrapping process, what does the <code>generate(reps = 1000, type = "bootstrap")</code> function do?</p>
<p><strong>Correct Answer:</strong><br>
A. It generates 1000 random samples with replacement from the original sample.</p>
<p><strong>Explanation:</strong><br>
The <code>generate()</code> function resamples the original data with replacement to create 1000 new bootstrap samples, which are used to estimate the sampling distribution of the sample mean.</p>
<hr>
<p><strong><code>(9.3)</code></strong> What does the histogram of bootstrap sample means represent?</p>
<p><strong>Correct Answer:</strong><br>
B. The distribution of sample means from the 1000 bootstrap samples.</p>
<p><strong>Explanation:</strong><br>
The histogram shows the variability in sample means across the 1000 bootstrap samples, giving insight into the sampling distribution of the sample mean.</p>
<hr>
<p><strong><code>(9.4)</code></strong> How is the bootstrap percentile confidence interval calculated?</p>
<p><strong>Correct Answer:</strong><br>
C. By taking the 2.5th and 97.5th percentiles of the bootstrap sample means.</p>
<p><strong>Explanation:</strong><br>
The bootstrap percentile confidence interval is found by identifying the lower and upper bounds at the 2.5th and 97.5th percentiles of the bootstrap sample means.</p>
<hr>
<p><strong><code>(9.5)</code></strong> What does it mean to be “95% confident” in the bootstrap confidence interval?</p>
<p><strong>Correct Answer:</strong><br>
D. That if we repeated the bootstrapping process many times, 95% of the confidence intervals would contain the true population mean.</p>
<p><strong>Explanation:</strong><br>
Being “95% confident” means that if we repeatedly generated bootstrap samples and calculated confidence intervals, 95% of those intervals would capture the true population mean.</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>